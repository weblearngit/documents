<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 RSA 登录服务器 | 飞跃高山与大洋的鱼</title>
    <meta name="description" content="飞跃高山与大洋的鱼的文档, vuepress 文档">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon-32x32.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
  <meta name="google-site-verification" content="Ld_AEWr30siza2LmmZ12csitRGsSj9gqqEAch0UXkTc">
    
    <link rel="preload" href="/assets/css/0.styles.35c63328.css" as="style"><link rel="preload" href="/assets/js/app.3f0cb9d2.js" as="script"><link rel="preload" href="/assets/js/2.f8049d23.js" as="script"><link rel="preload" href="/assets/js/58.aa815b16.js" as="script"><link rel="preload" href="/assets/js/3.1a8b72c6.js" as="script"><link rel="preload" href="/assets/js/6.3adc72a6.js" as="script"><link rel="prefetch" href="/assets/js/10.af5dab51.js"><link rel="prefetch" href="/assets/js/11.7c2ad233.js"><link rel="prefetch" href="/assets/js/12.eb93303e.js"><link rel="prefetch" href="/assets/js/13.dd7469bf.js"><link rel="prefetch" href="/assets/js/14.d2505474.js"><link rel="prefetch" href="/assets/js/15.7ccc5a80.js"><link rel="prefetch" href="/assets/js/16.fa93da48.js"><link rel="prefetch" href="/assets/js/17.2050999e.js"><link rel="prefetch" href="/assets/js/18.14a248e6.js"><link rel="prefetch" href="/assets/js/19.48f07042.js"><link rel="prefetch" href="/assets/js/20.43bafc9b.js"><link rel="prefetch" href="/assets/js/21.883ac329.js"><link rel="prefetch" href="/assets/js/22.211a8499.js"><link rel="prefetch" href="/assets/js/23.4953d8e5.js"><link rel="prefetch" href="/assets/js/24.22e7675d.js"><link rel="prefetch" href="/assets/js/25.596326db.js"><link rel="prefetch" href="/assets/js/26.fe1de154.js"><link rel="prefetch" href="/assets/js/27.8249cbd3.js"><link rel="prefetch" href="/assets/js/28.4b637623.js"><link rel="prefetch" href="/assets/js/29.ab26c3fb.js"><link rel="prefetch" href="/assets/js/30.481605b7.js"><link rel="prefetch" href="/assets/js/31.a3f5c866.js"><link rel="prefetch" href="/assets/js/32.502f3a3d.js"><link rel="prefetch" href="/assets/js/33.16418fa3.js"><link rel="prefetch" href="/assets/js/34.c7995ab5.js"><link rel="prefetch" href="/assets/js/35.3eccc1e0.js"><link rel="prefetch" href="/assets/js/36.9612739f.js"><link rel="prefetch" href="/assets/js/37.0438bf98.js"><link rel="prefetch" href="/assets/js/38.d1e24278.js"><link rel="prefetch" href="/assets/js/39.5c841eba.js"><link rel="prefetch" href="/assets/js/4.7e4ddda8.js"><link rel="prefetch" href="/assets/js/40.1215e71d.js"><link rel="prefetch" href="/assets/js/41.b1fbee5b.js"><link rel="prefetch" href="/assets/js/42.c11ba3ca.js"><link rel="prefetch" href="/assets/js/43.b03cd71e.js"><link rel="prefetch" href="/assets/js/44.15e82e31.js"><link rel="prefetch" href="/assets/js/45.0f3050a7.js"><link rel="prefetch" href="/assets/js/46.a3a28182.js"><link rel="prefetch" href="/assets/js/47.999a4c1f.js"><link rel="prefetch" href="/assets/js/48.4607d481.js"><link rel="prefetch" href="/assets/js/49.1c94fd82.js"><link rel="prefetch" href="/assets/js/5.33857c7d.js"><link rel="prefetch" href="/assets/js/50.461f5798.js"><link rel="prefetch" href="/assets/js/51.2a87f316.js"><link rel="prefetch" href="/assets/js/52.7e57801c.js"><link rel="prefetch" href="/assets/js/53.22f509ab.js"><link rel="prefetch" href="/assets/js/54.18b2925e.js"><link rel="prefetch" href="/assets/js/55.75952a2c.js"><link rel="prefetch" href="/assets/js/56.6765ea5f.js"><link rel="prefetch" href="/assets/js/57.98d69a37.js"><link rel="prefetch" href="/assets/js/59.371bc9d9.js"><link rel="prefetch" href="/assets/js/60.ca9a6acb.js"><link rel="prefetch" href="/assets/js/61.50ddc8c9.js"><link rel="prefetch" href="/assets/js/62.9d4a91f4.js"><link rel="prefetch" href="/assets/js/63.4e92cf35.js"><link rel="prefetch" href="/assets/js/64.06580679.js"><link rel="prefetch" href="/assets/js/65.f46ddcd9.js"><link rel="prefetch" href="/assets/js/66.74597b57.js"><link rel="prefetch" href="/assets/js/67.f35f6b3b.js"><link rel="prefetch" href="/assets/js/68.7608fe13.js"><link rel="prefetch" href="/assets/js/69.fbe2b65f.js"><link rel="prefetch" href="/assets/js/7.b4ea2d8d.js"><link rel="prefetch" href="/assets/js/8.7f52334a.js"><link rel="prefetch" href="/assets/js/9.b86da9a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35c63328.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">飞跃高山与大洋的鱼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">Interview</a></li><li class="dropdown-item"><!----> <a href="/base/clean/" class="nav-link">Clean</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/manjaro/" class="nav-link">Manjaro</a></li><li class="dropdown-item"><!----> <a href="/os/windows/" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/os/centos/" class="nav-link">CentOS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>FrontEnd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/FrontEnd/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="https://css.shanyuhai.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/FrontEnd/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/FrontEnd/nodejs/" class="nav-link">Nodejs</a></li></ul></li><li class="dropdown-item"><h4>BackEnd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BackEnd/koa/" class="nav-link">Koa</a></li><li class="dropdown-subitem"><a href="/BackEnd/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/BackEnd/nginx/" class="nav-link">Nginx</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/features/" class="nav-link">特性</a></li><li class="dropdown-item"><!----> <a href="/more/services/" class="nav-link">服务</a></li><li class="dropdown-item"><!----> <a href="/source-reading/" class="nav-link">源码阅读</a></li><li class="dropdown-item"><!----> <a href="http://resume.shanyuhai.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RESUME
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shanyuhai123/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">Interview</a></li><li class="dropdown-item"><!----> <a href="/base/clean/" class="nav-link">Clean</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/manjaro/" class="nav-link">Manjaro</a></li><li class="dropdown-item"><!----> <a href="/os/windows/" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/os/centos/" class="nav-link">CentOS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>FrontEnd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/FrontEnd/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="https://css.shanyuhai.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/FrontEnd/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/FrontEnd/nodejs/" class="nav-link">Nodejs</a></li></ul></li><li class="dropdown-item"><h4>BackEnd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BackEnd/koa/" class="nav-link">Koa</a></li><li class="dropdown-subitem"><a href="/BackEnd/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/BackEnd/nginx/" class="nav-link">Nginx</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/features/" class="nav-link">特性</a></li><li class="dropdown-item"><!----> <a href="/more/services/" class="nav-link">服务</a></li><li class="dropdown-item"><!----> <a href="/source-reading/" class="nav-link">源码阅读</a></li><li class="dropdown-item"><!----> <a href="http://resume.shanyuhai.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RESUME
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/shanyuhai123/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CentOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OS/centos/" class="sidebar-link">首页</a></li><li><a href="/OS/centos/01-add-user.html" class="sidebar-link">增加用户</a></li><li><a href="/OS/centos/02-login-with-rsa-key.html" class="active sidebar-link">使用 RSA 登录服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OS/centos/02-login-with-rsa-key.html#_1-生成-rsa" class="sidebar-link">1. 生成 RSA</a></li><li class="sidebar-sub-header"><a href="/OS/centos/02-login-with-rsa-key.html#_2-开启-rsa" class="sidebar-link">2. 开启 RSA</a></li><li class="sidebar-sub-header"><a href="/OS/centos/02-login-with-rsa-key.html#_3-设置文件权限" class="sidebar-link">3. 设置文件权限</a></li><li class="sidebar-sub-header"><a href="/OS/centos/02-login-with-rsa-key.html#_4-快速访问服务器" class="sidebar-link">4. 快速访问服务器</a></li></ul></li><li><a href="/OS/centos/03-upload-file-to-server.html" class="sidebar-link">上传文件到服务器</a></li><li><a href="/OS/centos/04-clone-project-to-server.html" class="sidebar-link">clone 项目到服务器</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h2 id="_1-生成-rsa"><a href="#_1-生成-rsa" aria-hidden="true" class="header-anchor">#</a> 1. 生成 RSA</h2> <p>此处直接参考 <a href="/Base/git/01-generate-ssh-key.html#_1-创建-ssh-key-步骤">创建 SSH Key</a> 。</p> <p>将生成的公钥（<code>id_rsa_new.pub</code>）拷贝。</p> <h2 id="_2-开启-rsa"><a href="#_2-开启-rsa" aria-hidden="true" class="header-anchor">#</a> 2. 开启 RSA</h2> <h3 id="登录服务器"><a href="#登录服务器" aria-hidden="true" class="header-anchor">#</a> 登录服务器</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># xxx.xxx.xxx.xxx 为你的 ip 地址</span>
<span class="token function">ssh</span> root@xxx.xxx.xxx.xxx
</code></pre></div><h3 id="拷贝公钥到服务器"><a href="#拷贝公钥到服务器" aria-hidden="true" class="header-anchor">#</a> 拷贝公钥到服务器</h3> <p>注意事项：若需要其余用户登录，则需要在该用户下创建该文件，root 下的该文件将不会生效。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 编辑服务器认证 keys</span>
<span class="token comment"># 若保存失败则需要先创建该文件</span>
vim ～/.ssh/authorized_keys
<span class="token comment"># 确认保存</span>
<span class="token function">cat</span> ～/.ssh/authorized_keys
<span class="token comment"># 内容为： ssh-rsa……</span>
</code></pre></div><h3 id="编辑-ssh-配置文件"><a href="#编辑-ssh-配置文件" aria-hidden="true" class="header-anchor">#</a> 编辑 SSH 配置文件</h3> <p><strong>启用公钥认证</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>vim /etc/ssh/sshd_config

<span class="token comment"># 在 normal 模式下输入 “/” 进入查找模式</span>
<span class="token comment"># 启用以下三项</span>
RSAAuthentication <span class="token function">yes</span>     <span class="token comment"># RSA认证</span>
PubkeyAuthentication <span class="token function">yes</span>  <span class="token comment"># 公钥认证</span>
AuthorizedKeysFile .ssh/authorized_keys  <span class="token comment"># 公钥认证文件路径</span>
</code></pre></div><p><strong>重启 sshd 服务</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">service</span> sshd restart
<span class="token comment"># 或</span>
systemctl restart sshd
</code></pre></div><p><strong>测试公钥登录</strong></p> <p>在测试前先跳转至第四步完成本地配置。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> aliyun

<span class="token comment"># 得到结果</span>
<span class="token comment"># Welcome to Alibaba Cloud Elastic Compute Service !</span>
</code></pre></div><p><strong>拒绝密码登录</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>vim /etc/ssh/sshd_config

<span class="token comment"># 在 normal 模式下输入 “/” 进入查找模式</span>
PasswordAuthentication no <span class="token comment"># 密码认证</span>

<span class="token comment"># 再执行上方的 重启 sshd 服务</span>
</code></pre></div><p><strong>测试密码登录</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> root@xxx.xxx.xxx.xxx

<span class="token comment"># root@xxx.xxx.xxx.xxx: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).</span>
</code></pre></div><p><strong>拒绝 root 用户登录</strong></p> <p>在使用该项时，先完成 <a href="/OS/centos/02-add-user.html">增加用户</a>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vim /etc/ssh/sshd_config

<span class="token comment"># 在 normal 模式下输入 “/” 进入查找模式</span>
PermitRootLogin no <span class="token comment"># 禁止 root 登录</span>
AllowUsers shanyuhai <span class="token comment"># 允许登录的用户</span>

<span class="token comment"># 再执行上方的 重启 sshd 服务</span>
</code></pre></div><p><strong>测试 root 用户登录</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> aliyun

<span class="token comment"># root@47.112.26.219: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).</span>

<span class="token comment"># 修改 4.快速访问服务器 的 User 为 User shanyuhai</span>
</code></pre></div><h2 id="_3-设置文件权限"><a href="#_3-设置文件权限" aria-hidden="true" class="header-anchor">#</a> 3. 设置文件权限</h2> <p>关于 <a href="https://zh.wikipedia.org/wiki/Chmod" target="_blank" rel="noopener noreferrer">chmod<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，对文件设置权限可以很好的保护系统。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> 600 ~/.ssh/authorized_keys <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> 700 ~/.ssh/
</code></pre></div><h2 id="_4-快速访问服务器"><a href="#_4-快速访问服务器" aria-hidden="true" class="header-anchor">#</a> 4. 快速访问服务器</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 编辑 config 文件</span>
vim ~/.ssh/config

<span class="token comment"># 在 config 文件末尾追加内容</span>
Host aliyun                  		<span class="token comment"># 一个便于你区别这是哪台机器的名字</span>
    HostName xxx.xxx.xxx.xxx  <span class="token comment"># 目的机器的ip</span>
    User root         		<span class="token comment"># ssh登陆时候的用户名</span>
    Port 22               		<span class="token comment"># ssh所使用的端口，默认是22</span>
    IdentityFile /home/yuan/.ssh/id_rsa_new    <span class="token comment"># 对应服务器公钥的本地私钥文件路径</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shanyuhai123/documents/edit/master/docs/OS/centos/02-login-with-rsa-key.md" target="_blank" rel="noopener noreferrer">编辑文档！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2019-3-7 18:24:15</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/OS/centos/01-add-user.html" class="prev">
          增加用户
        </a></span> <span class="next"><a href="/OS/centos/03-upload-file-to-server.html">
          上传文件到服务器
        </a>
        →
      </span></p></div>  <div class="ValineComment" data-v-9d9d0884><hr data-v-9d9d0884> <span id="/OS/centos/02-login-with-rsa-key.html" data-flag-title="使用 RSA 登录服务器" class="leancloud-visitors" data-v-9d9d0884><em class="post-meta-item-text" data-v-9d9d0884>文章阅读量 </em> <i class="leancloud-visitors-count" data-v-9d9d0884>1000000+</i></span> <div id="vcomments" data-v-9d9d0884></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.3f0cb9d2.js" defer></script><script src="/assets/js/2.f8049d23.js" defer></script><script src="/assets/js/58.aa815b16.js" defer></script><script src="/assets/js/3.1a8b72c6.js" defer></script><script src="/assets/js/6.3adc72a6.js" defer></script>
  </body>
</html>
